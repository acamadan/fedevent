<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Member Functionality - Implementation Summary</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .implementation-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f9f9f9;
        }
        .implementation-section h2 {
            margin-top: 0;
            color: #555;
        }
        .code {
            background: #f1f1f1;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        .success {
            color: green;
            font-weight: bold;
        }
        .info {
            color: #007bff;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Team Member Functionality - Implementation Summary</h1>
        
        <div class="implementation-section">
            <h2>‚úÖ Functionality Already Implemented</h2>
            <p>The team member functionality has been successfully implemented in the hotel registration form with the following features:</p>
            
            <ul>
                <li><span class="success">‚úì</span> "Add Team Member" button placed below the second primary contact's title field</li>
                <li><span class="success">‚úì</span> Team member template with name, title, email, and phone fields</li>
                <li><span class="success">‚úì</span> JavaScript functionality to add team members dynamically</li>
                <li><span class="success">‚úì</span> Remove team member functionality with individual remove buttons</li>
                <li><span class="success">‚úì</span> Form data collection for team members</li>
                <li><span class="success">‚úì</span> Form data restoration for team members (draft saving/loading)</li>
            </ul>
        </div>
        
        <div class="implementation-section">
            <h2>üìç Implementation Details</h2>
            
            <h3>1. HTML Structure</h3>
            <p>The "Add Team Member" button is placed in the correct location:</p>
            <div class="code">
&lt;!-- Add Team Member Button --&gt;
&lt;button type="button" class="btn subtle" id="addTeamMemberBtn" style="margin-top: 10px;"&gt;+ Add Team Member&lt;/button&gt;
            </div>
            
            <p>Team members container:</p>
            <div class="code">
&lt;!-- Team Members Container --&gt;
&lt;div id="teamMembersContainer"&gt;&lt;/div&gt;
            </div>
            
            <p>Team member template:</p>
            <div class="code">
&lt;template id="team-member-template"&gt;
  &lt;div class="item team-member" style="margin-top: 12px; position: relative;"&gt;
    &lt;button type="button" class="btn danger remove-team-member" style="position: absolute; top: 10px; right: 10px; padding: 4px 8px; font-size: 0.8rem;"&gt;Remove&lt;/button&gt;
    &lt;div class="row"&gt;
      &lt;div class="col-4"&gt;
        &lt;label&gt;Team Member Name&lt;/label&gt;
        &lt;input type="text" class="team-member-name" /&gt;
      &lt;/div&gt;
      &lt;div class="col-4"&gt;
        &lt;label&gt;Title/Position&lt;/label&gt;
        &lt;input type="text" class="team-member-title" placeholder="Enter position title" /&gt;
      &lt;/div&gt;
      &lt;div class="col-4"&gt;
        &lt;label&gt;Email&lt;/label&gt;
        &lt;input type="email" class="team-member-email" /&gt;
      &lt;/div&gt;
      &lt;div class="col-4"&gt;
        &lt;label&gt;Phone&lt;/label&gt;
        &lt;input type="tel" class="team-member-phone" /&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
            </div>
            
            <h3>2. JavaScript Functionality</h3>
            <p>Team member functionality implementation:</p>
            <div class="code">
// Team Member Functionality
document.addEventListener('DOMContentLoaded', function() {
  const addTeamMemberBtn = document.getElementById('addTeamMemberBtn');
  const teamMembersContainer = document.getElementById('teamMembersContainer');
  const teamMemberTemplate = document.getElementById('team-member-template');
  
  if (addTeamMemberBtn && teamMembersContainer && teamMemberTemplate) {
    // Add team member button click handler
    addTeamMemberBtn.addEventListener('click', function() {
      // Clone the template
      const templateContent = teamMemberTemplate.content.cloneNode(true);
      
      // Add to container
      teamMembersContainer.appendChild(templateContent);
      
      // Add event listener to the remove button of the newly added team member
      const newTeamMember = teamMembersContainer.lastElementChild;
      const removeBtn = newTeamMember.querySelector('.remove-team-member');
      if (removeBtn) {
        removeBtn.addEventListener('click', function() {
          newTeamMember.remove();
        });
      }
    });
    
    // Event delegation for remove buttons (for dynamically added elements)
    teamMembersContainer.addEventListener('click', function(e) {
      if (e.target && e.target.classList.contains('remove-team-member')) {
        e.target.closest('.team-member').remove();
      }
    });
  }
});
            </div>
            
            <h3>3. Form Data Handling</h3>
            <p>getFormData function collects team member data:</p>
            <div class="code">
// Handle team members data
const teamMembers = [];
const teamMemberElements = document.querySelectorAll('.team-member');
teamMemberElements.forEach((member, index) => {
  const name = member.querySelector('.team-member-name')?.value || '';
  const title = member.querySelector('.team-member-title')?.value || '';
  const email = member.querySelector('.team-member-email')?.value || '';
  const phone = member.querySelector('.team-member-phone')?.value || '';
  
  if (name || title || email || phone) {
    teamMembers.push({ name, title, email, phone });
  }
});

// Add team members to data if any exist
if (teamMembers.length > 0) {
  data.team_members = teamMembers;
}
            </div>
            
            <p>setFormData function rebuilds team members:</p>
            <div class="code">
// Rebuild team members if they exist
if (data.team_members && Array.isArray(data.team_members)) {
  const teamMembersContainer = document.getElementById('teamMembersContainer');
  const addTeamMemberBtn = document.getElementById('addTeamMemberBtn');
  
  if (teamMembersContainer && addTeamMemberBtn) {
    teamMembersContainer.innerHTML = '';
    data.team_members.forEach(member => {
      // Click the add button to create a new team member section
      addTeamMemberBtn.click();
      
      // Get the newly created team member section
      const newTeamMember = teamMembersContainer.lastElementChild;
      
      if (newTeamMember) {
        // Set the values
        if (member.name) {
          const nameInput = newTeamMember.querySelector('.team-member-name');
          if (nameInput) nameInput.value = member.name;
        }
        
        if (member.title) {
          const titleInput = newTeamMember.querySelector('.team-member-title');
          if (titleInput) titleInput.value = member.title;
        }
        
        if (member.email) {
          const emailInput = newTeamMember.querySelector('.team-member-email');
          if (emailInput) emailInput.value = member.email;
        }
        
        if (member.phone) {
          const phoneInput = newTeamMember.querySelector('.team-member-phone');
          if (phoneInput) phoneInput.value = member.phone;
        }
      }
    });
  }
}
            </div>
        </div>
        
        <div class="implementation-section">
            <h2>‚úÖ Verification</h2>
            <p>The implementation has been tested and verified to work correctly:</p>
            <ul>
                <li><span class="success">‚úì</span> Team members can be added dynamically</li>
                <li><span class="success">‚úì</span> Team members can be removed individually</li>
                <li><span class="success">‚úì</span> Team member data is collected when form is submitted</li>
                <li><span class="success">‚úì</span> Team member data is restored when loading drafts</li>
                <li><span class="success">‚úì</span> Form validation works correctly with team members</li>
            </ul>
        </div>
        
        <div class="implementation-section">
            <h2>üìç Access the Form</h2>
            <p>You can test the functionality at: <a href="http://localhost:5050/hotel-registration.html" target="_blank">http://localhost:5050/hotel-registration.html</a></p>
            <p>Navigate to the "2) Primary Contacts" section to see the "Add Team Member" button.</p>
        </div>
    </div>
</body>
</html>